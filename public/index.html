<html>

<head>
    <title>three.js app</title>
    <style>
        body {
            margin: 0;
        }

        canvas {
            width: 100%;
            height: 100%
        }
    </style>
</head>

<body>
    <!-- <script src="js/three.js"></script> -->
    <script src="js/three.js"></script>
    <script>
        // var THREE = window.THREE = require('three');
        var scene = new THREE.Scene();
        var camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        //CUBES
        // var renderer = new THREE.WebGLRenderer();
        // renderer.setSize(window.innerWidth, window.innerHeight);
        // document.body.appendChild(renderer.domElement);

        // var geometry = new THREE.BoxGeometry(1, 1, 1);
        // var material = new THREE.MeshBasicMaterial({ color: 0x00ff00 });
        // var cube = new THREE.Mesh(geometry, material);
        // scene.add(cube);

        // var geometry = new THREE.BoxBufferGeometry(1, 1, 1);
        // var material = new THREE.MeshBasicMaterial({ color: 0xffff00 });
        // var mesh = new THREE.Mesh(geometry, material);
        // scene.add(mesh);

        // var width = 1000;
        // var height = 1000;

        // var color = {
        //     r: .5,
        //     b: .5,
        //     g: .5
        // }

        //TEXTURE
        // var size = width * height;
        // var data = new Uint8Array(3 * size);

        // var r = Math.floor(color.r * 255);
        // var g = Math.floor(color.g * 255);
        // var b = Math.floor(color.b * 255);

        // for (var i = 0; i < size; i++) {

        //     var stride = i * 3;

        //     data[stride] = r;
        //     data[stride + 1] = g;
        //     data[stride + 2] = b;

        // }

        // // used the buffer to create a DataTexture

        // var texture = new THREE.DataTexture(data, width, height, THREE.RGBFormat);
        // texture.needsUpdate = true
        // scene.add(texture);

        camera.position.z = 5;

        var animate = function () {
            requestAnimationFrame(animate);

            cube.rotation.x += 0.01;
            cube.rotation.y += 0.01;

            renderer.render(scene, camera);
        };
        //HELMET
        // var loader = new THREE.GLTFLoader(THREE.DefaultLoadingManager);

        // loader.load('./assets/helmet/scene.gltf', function (gltf) {

        //     scene.add(gltf.scene);

        // }, undefined, function (error) {

        //     console.error(error);

        // });

        //Object Scene Loader
        var loader = new THREE.ObjectLoader();

        loader.load(
            // resource URL
            "./assets/planes/plane1.json",

            // onLoad callback
            // Here the loaded data is assumed to be an object
            function (obj) {
                // Add the loaded object to the scene
                scene.add(obj);
            },

            // onProgress callback
            function (xhr) {
                console.log((xhr.loaded / xhr.total * 100) + '% loaded');
            },

            // onError callback
            function (err) {
                console.error('An error happened');
            }
        );


        // Alternatively, to parse a previously loaded JSON structure
        var object = loader.parse(a_json_object);

        scene.add(object);

        animate();
    </script>
</body>

</html>